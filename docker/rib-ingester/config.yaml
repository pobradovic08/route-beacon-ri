service:
  instance_id: "rib-ingester-test"
  http_listen: ":8080"
  log_level: "debug"
  shutdown_timeout_seconds: 10

kafka:
  brokers:
    - "kafka:9092"
  client_id: "rib-ingester-test"

  tls:
    enabled: false
  sasl:
    enabled: false

  state:
    group_id: "rib-ingester-state"
    topics:
      - "gobmp.parsed.unicast_prefix_v4"
      - "gobmp.parsed.unicast_prefix_v6"
      - "gobmp.parsed.peer"

  history:
    group_id: "rib-ingester-history"
    topics:
      - "gobmp.raw"

  fetch_max_bytes: 52428800

postgres:
  dsn: "postgres://rib:rib@postgres:5432/rib?sslmode=disable"
  max_conns: 5
  min_conns: 1

ingest:
  batch_size: 500
  flush_interval_ms: 500
  channel_buffer_size: 4
  max_payload_bytes: 16777216
  store_raw_bytes: false
  store_raw_bytes_compress: true

retention:
  days: 7
  timezone: "UTC"
